{
  "functions": {
    "backend.AST_Schema.path_to_module": {
      "identifier": "backend.AST_Schema.path_to_module",
      "description": {
        "overall": "This function converts a file path to a Python module path. It takes a file path and a project root as input, and returns the corresponding module path. If the file path is a Python file, it removes the .py extension. If the module path ends with .__init__, it removes the last 9 characters.",
        "parameters": [
          {
            "name": "filepath",
            "type": "str",
            "description": "The file path to be converted to a module path."
          },
          {
            "name": "project_root",
            "type": "str",
            "description": "The project root directory."
          }
        ],
        "returns": [
          {
            "name": "module_path",
            "type": "str",
            "description": "The module path corresponding to the file path."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "backend.File_Dependency.build_file_dependency_graph": {
      "identifier": "backend.File_Dependency.build_file_dependency_graph",
      "description": {
        "overall": "This function constructs a directed graph representing the file dependencies within a given repository. It takes a filename, an Abstract Syntax Tree (AST), and the repository root as input. The function utilizes a tree visitor to traverse the AST and identify import dependencies. The resulting graph is then returned.",
        "parameters": [
          {
            "name": "filename",
            "type": "str",
            "description": "The name of the file for which to build the dependency graph."
          },
          {
            "name": "tree",
            "type": "AST",
            "description": "The Abstract Syntax Tree representing the file's source code."
          },
          {
            "name": "repo_root",
            "type": "str",
            "description": "The root directory of the repository."
          }
        ],
        "returns": [
          {
            "name": "graph",
            "type": "nx.DiGraph",
            "description": "A directed graph representing the file dependencies within the repository."
          }
        ],
        "usage_context": {
          "calls": "backend.File_Dependency.FileDependencyGraph",
          "called_by": "This function is not called by any other functions in the provided context."
        }
      },
      "error": null
    },
    "backend.File_Dependency.build_repository_graph": {
      "identifier": "backend.File_Dependency.build_repository_graph",
      "description": {
        "overall": "This function constructs a directed graph representing the file dependencies within a Git repository. It iterates over all files in the repository, excluding non-Python files, and builds a dependency graph for each Python file using the `build_file_dependency_graph` function. The resulting graphs are then merged into a single global graph.",
        "parameters": [
          {
            "name": "repository",
            "type": "GitRepository",
            "description": "The Git repository for which to build the dependency graph."
          }
        ],
        "returns": [
          {
            "name": "nx.DiGraph",
            "type": "nx.DiGraph",
            "description": "The constructed directed graph representing the file dependencies within the repository."
          }
        ],
        "usage_context": {
          "calls": "backend.File_Dependency.build_file_dependency_graph",
          "called_by": "This function is called by no other functions."
        }
      },
      "error": null
    },
    "backend.File_Dependency.get_all_temp_files": {
      "identifier": "backend.File_Dependency.get_all_temp_files",
      "description": {
        "overall": "This function retrieves a list of all temporary files within a specified directory. It uses the `rglob` method from the `pathlib` module to recursively search for files with the `.py` extension. The function returns a list of relative paths to these files, with respect to the specified directory.",
        "parameters": [
          {
            "name": "directory",
            "type": "str",
            "description": "The path to the directory to search for temporary files."
          }
        ],
        "returns": [
          {
            "name": "list[Path]",
            "type": "list[Path]",
            "description": "A list of relative paths to temporary files within the specified directory."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "backend.HelperLLM.main_orchestrator": {
      "identifier": "backend.HelperLLM.main_orchestrator",
      "description": {
        "overall": "Dummy Data and processing loop for testing the LLMHelper class. This version is syntactically correct and logically matches the Pydantic models.",
        "parameters": [],
        "returns": [],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by backend.HelperLLM.LLMHelper and schemas.types.ClassAnalysisInput and schemas.types.ClassContextInput"
        }
      },
      "error": null
    },
    "backend.callgraph.make_safe_dot": {
      "identifier": "backend.callgraph.make_safe_dot",
      "description": {
        "overall": "This function creates a safe version of a directed graph by renaming its nodes to a sequential format, and then writes the safe graph to a file in the DOT format. The function takes a NetworkX directed graph and an output path as input, and does not return any value.",
        "parameters": [
          {
            "name": "graph",
            "type": "nx.DiGraph",
            "description": "A directed graph represented by NetworkX"
          },
          {
            "name": "out_path",
            "type": "str",
            "description": "The path where the safe graph will be written to"
          }
        ],
        "returns": [],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "backend.callgraph.build_filtered_callgraph": {
      "identifier": "backend.callgraph.build_filtered_callgraph",
      "description": {
        "overall": "This function builds a global call graph and filters it to include only self-written functions. It iterates over all Python files in a Git repository, parses each file using the Abstract Syntax Tree (AST), and uses a CallGraph visitor to extract function calls. The function then constructs a directed graph where nodes represent functions and edges represent function calls between them. Only self-written functions are included in the graph.",
        "parameters": [
          {
            "name": "repo",
            "type": "GitRepository",
            "description": "A Git repository object containing all files and their contents."
          }
        ],
        "returns": [
          {
            "name": "nx.DiGraph",
            "type": "nx.DiGraph",
            "description": "A directed graph representing the call graph of self-written functions."
          }
        ],
        "usage_context": {
          "calls": "backend.callgraph.CallGraph",
          "called_by": "This function is not called by any other functions in the provided context."
        }
      },
      "error": null
    },
    "backend.converter.wrap_cdata": {
      "identifier": "backend.converter.wrap_cdata",
      "description": {
        "overall": "The `wrap_cdata` function takes a string `content` and returns it wrapped in CDATA tags. It uses an f-string to format the output, ensuring the content is properly escaped. This function is designed to handle sensitive or special characters within the content.",
        "parameters": [
          {
            "name": "content",
            "type": "str",
            "description": "The content to be wrapped in CDATA tags."
          }
        ],
        "returns": [
          {
            "name": "wrapped_content",
            "type": "str",
            "description": "The input content wrapped in CDATA tags."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "backend.converter.extract_output_content": {
      "identifier": "backend.converter.extract_output_content",
      "description": {
        "overall": "This function extracts text and handles images by decoding Base64 to bytes from a list of outputs. It returns a list of text strings or placeholders. The function processes image outputs by appending them to an image list and replacing them with placeholders in the extracted XML snippets. It also handles error outputs by appending the error message to the extracted XML snippets.",
        "parameters": [
          {
            "name": "outputs",
            "type": "list",
            "description": "A list of outputs to extract text and handle images from."
          },
          {
            "name": "image_list",
            "type": "list",
            "description": "A list to store image data and their mime types."
          }
        ],
        "returns": [
          {
            "name": "extracted_xml_snippets",
            "type": "list",
            "description": "A list of text strings or placeholders extracted from the outputs."
          }
        ],
        "usage_context": {
          "calls": "This function calls process_image.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "backend.converter.process_image": {
      "identifier": "backend.converter.process_image",
      "description": {
        "overall": "The `process_image` function processes an image by decoding its base64 string and adding it to a list of images. It returns a placeholder HTML string if successful, or an error message if decoding fails.",
        "parameters": [
          {
            "name": "mime_type",
            "type": "str",
            "description": "The MIME type of the image to be processed."
          }
        ],
        "returns": [
          {
            "name": "html_string",
            "type": "str",
            "description": "A placeholder HTML string with the image index and MIME type, or an error message if decoding fails."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "backend.converter.convert_notebook_to_xml": {
      "identifier": "backend.converter.convert_notebook_to_xml",
      "description": {
        "overall": "This function converts a Jupyter Notebook file content into an XML representation. It reads the file content as a Notebook version 4, extracts the cells, and wraps each cell's source code and output in XML tags. The function returns the XML representation as a string and a list of extracted images.",
        "parameters": [
          {
            "name": "file_content",
            "type": "str",
            "description": "The content of the Jupyter Notebook file to be converted."
          }
        ],
        "returns": [
          {
            "name": "xml_representation",
            "type": "str",
            "description": "The XML representation of the Notebook file content."
          },
          {
            "name": "extracted_images",
            "type": "list",
            "description": "A list of extracted images from the Notebook file content."
          }
        ],
        "usage_context": {
          "calls": "This function calls backend.converter.extract_output_content and backend.converter.wrap_cdata.",
          "called_by": "This function is called by no other functions."
        }
      },
      "error": null
    },
    "backend.converter.process_repo_notebooks": {
      "identifier": "backend.converter.process_repo_notebooks",
      "description": {
        "overall": "This function processes repository notebooks by converting them to XML and extracting images. It iterates over the provided repository files, filters notebooks, and logs the processing of each notebook. The results are stored in a dictionary with the notebook path as the key.",
        "parameters": [
          {
            "name": "repo_files",
            "type": "list",
            "description": "A list of repository files to process."
          }
        ],
        "returns": [
          {
            "name": "results",
            "type": "dict",
            "description": "A dictionary containing the processed notebook results, with the notebook path as the key and a dictionary with 'xml' and 'images' as values."
          }
        ],
        "usage_context": {
          "calls": "This function calls convert_notebook_to_xml.",
          "called_by": "This function is not called by any other functions."
        }
      },
      "error": null
    },
    "backend.main.create_savings_chart": {
      "identifier": "backend.main.create_savings_chart",
      "description": {
        "overall": "This function creates a bar chart comparing the number of JSON and TOON tokens and saves it to a specified output path. The chart displays the token comparison and the percentage of savings. It uses matplotlib to create the chart and save it to a file.",
        "parameters": [
          {
            "name": "json_tokens",
            "type": "int",
            "description": "The number of JSON tokens."
          },
          {
            "name": "toon_tokens",
            "type": "int",
            "description": "The number of TOON tokens."
          },
          {
            "name": "savings_percent",
            "type": "float",
            "description": "The percentage of savings."
          },
          {
            "name": "output_path",
            "type": "str",
            "description": "The path where the chart will be saved."
          }
        ],
        "returns": [],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "backend.main.calculate_net_time": {
      "identifier": "backend.main.calculate_net_time",
      "description": {
        "overall": "Calculates the net time by subtracting sleep times for rate limits from the total duration. If the model name does not start with 'gemini-', the function returns the total duration. If there are no items, the function returns 0. The function then calculates the number of batches, sleep count, and total sleep time, and finally returns the net time, capping it at 0.",
        "parameters": [
          {
            "name": "start_time",
            "type": "datetime",
            "description": "The start time of the calculation."
          },
          {
            "name": "end_time",
            "type": "datetime",
            "description": "The end time of the calculation."
          },
          {
            "name": "total_items",
            "type": "int",
            "description": "The total number of items."
          },
          {
            "name": "batch_size",
            "type": "int",
            "description": "The batch size."
          },
          {
            "name": "model_name",
            "type": "str",
            "description": "The name of the model."
          }
        ],
        "returns": [
          {
            "name": "net_time",
            "type": "float",
            "description": "The net time after subtracting sleep times."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "backend.main.main_workflow": {
      "identifier": "backend.main.main_workflow",
      "description": {
        "overall": "The main_workflow function is the entry point of the backend. It orchestrates the analysis of a repository by extracting basic information, constructing an abstract syntax tree (AST), and analyzing relationships between files. The function then uses the Helper LLM to generate documentation for functions and classes, and finally, it uses the Main LLM to generate a final report.",
        "parameters": [
          {
            "name": "input",
            "type": "object",
            "description": "The input to the main_workflow function, which is expected to be a string containing the repository URL."
          },
          {
            "name": "api_keys",
            "type": "dict",
            "description": "A dictionary containing API keys for various services, including Gemini, OpenAI, and ScadsLLM."
          },
          {
            "name": "model_names",
            "type": "dict",
            "description": "A dictionary containing model names for the Helper LLM and the Main LLM."
          },
          {
            "name": "status_callback",
            "type": "function",
            "description": "An optional callback function for updating the status of the analysis process."
          }
        ],
        "returns": [
          {
            "name": "analysis_results",
            "type": "dict",
            "description": "A dictionary containing the results of the analysis, including documentation for functions and classes, and metrics for the analysis process."
          }
        ],
        "usage_context": {
          "calls": "This function calls backend.AST_Schema.ASTAnalyzer, backend.HelperLLM.LLMHelper, backend.MainLLM.MainLLM, backend.basic_info.ProjektInfoExtractor, backend.getRepo.GitRepository, backend.relationship_analyzer.ProjectAnalyzer, and various other functions.",
          "called_by": "This function is used by the main entry point of the backend."
        }
      },
      "error": null
    },
    "backend.main.update_status": {
      "identifier": "backend.main.update_status",
      "description": {
        "overall": "The `update_status` function updates the status by calling the `status_callback` function if it exists, and logs the message using the `logging` module.",
        "parameters": [
          {
            "name": "msg",
            "type": "str",
            "description": "The message to be logged and passed to the `status_callback` function."
          }
        ],
        "returns": [],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "backend.main.notebook_workflow": {
      "identifier": "backend.main.notebook_workflow",
      "description": {
        "overall": "This function orchestrates the notebook workflow by cloning a GitHub repository, extracting basic project information, processing notebook files, and generating reports using the MainLLM model. It handles various exceptions and logs progress updates.",
        "parameters": [
          {
            "name": "input",
            "type": "string",
            "description": "The input to be processed, which may contain a GitHub repository URL."
          },
          {
            "name": "api_keys",
            "type": "dict",
            "description": "A dictionary containing API keys for different models."
          },
          {
            "name": "model",
            "type": "string",
            "description": "The name of the model to be used for generating reports."
          },
          {
            "name": "status_callback",
            "type": "function",
            "description": "An optional callback function for updating the status."
          }
        ],
        "returns": [
          {
            "name": "report",
            "type": "string",
            "description": "The final report generated by the notebook workflow."
          },
          {
            "name": "metrics",
            "type": "dict",
            "description": "A dictionary containing metrics for the notebook workflow."
          }
        ],
        "usage_context": {
          "calls": "This function calls backend.MainLLM.MainLLM, backend.MainLLM.MainLLM.call_llm, backend.basic_info.ProjektInfoExtractor, backend.basic_info.ProjektInfoExtractor.extrahiere_info, backend.converter.process_repo_notebooks, backend.getRepo.GitRepository, backend.main.gemini_payload, and backend.main.update_status.",
          "called_by": "This function is called by no other functions."
        }
      },
      "error": null
    },
    "backend.main.gemini_payload": {
      "identifier": "backend.main.gemini_payload",
      "description": {
        "overall": "The `gemini_payload` function constructs a payload for the Gemini protocol by parsing the provided XML content and basic information. It extracts text and image segments from the XML, encodes images as base64 strings, and combines them into a list of payload content. The function returns this list of payload content.",
        "parameters": [
          {
            "name": "basic_info",
            "type": "object",
            "description": "Basic information to be included in the Gemini payload."
          },
          {
            "name": "nb_path",
            "type": "string",
            "description": "Current notebook path to be included in the Gemini payload."
          },
          {
            "name": "xml_content",
            "type": "string",
            "description": "XML content to be parsed and included in the Gemini payload."
          },
          {
            "name": "images",
            "type": "list",
            "description": "List of image data to be encoded and included in the Gemini payload."
          }
        ],
        "returns": [
          {
            "name": "payload_content",
            "type": "list",
            "description": "List of payload content, including text and image segments."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "backend.relationship_analyzer.path_to_module": {
      "identifier": "backend.relationship_analyzer.path_to_module",
      "description": {
        "overall": "This function converts a file path into a Python module path. It takes a file path and a project root as input, and returns the corresponding module path. If the file path is a Python file, the function removes the .py extension. If the resulting module path ends with .__init__, the function removes the last 9 characters.",
        "parameters": [
          {
            "name": "filepath",
            "type": "str",
            "description": "The file path to be converted into a module path."
          },
          {
            "name": "project_root",
            "type": "str",
            "description": "The project root directory."
          }
        ],
        "returns": [
          {
            "name": "module_path",
            "type": "str",
            "description": "The module path corresponding to the input file path."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.encrypt_text": {
      "identifier": "database.db.encrypt_text",
      "description": {
        "overall": "This function encrypts a given text using a cipher suite. If the input text is empty or the cipher suite is not available, it returns the original text. The function uses the cryptography library's Fernet class for encryption.",
        "parameters": [
          {
            "name": "text",
            "type": "str",
            "description": "The text to be encrypted."
          }
        ],
        "returns": [
          {
            "name": "encrypted_text",
            "type": "str",
            "description": "The encrypted text, or the original text if it is empty or the cipher suite is not available."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.decrypt_text": {
      "identifier": "database.db.decrypt_text",
      "description": {
        "overall": "The `decrypt_text` function decrypts a given text using a cipher suite, returning the decrypted text. If the text is empty or the cipher suite is not available, it returns the original text. If an exception occurs during decryption, it also returns the original text.",
        "parameters": [
          {
            "name": "text",
            "type": "str",
            "description": "The text to be decrypted."
          }
        ],
        "returns": [
          {
            "name": "decrypted_text",
            "type": "str",
            "description": "The decrypted text, or the original text if decryption fails."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.insert_user": {
      "identifier": "database.db.insert_user",
      "description": {
        "overall": "This function inserts a new user into the database. It takes in a username, name, and password, hashes the password using the stauth.Hasher.hash function, and then inserts the user into the dbusers collection. The function returns the inserted ID of the user.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username of the user to be inserted."
          },
          {
            "name": "name",
            "type": "str",
            "description": "The name of the user to be inserted."
          },
          {
            "name": "password",
            "type": "str",
            "description": "The password of the user to be inserted."
          }
        ],
        "returns": [
          {
            "name": "inserted_id",
            "type": "ObjectId",
            "description": "The ID of the inserted user."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.fetch_all_users": {
      "identifier": "database.db.fetch_all_users",
      "description": {
        "overall": "The `fetch_all_users` function retrieves all users from the database by querying the `dbusers` collection using the `find()` method and returns the result as a list.",
        "parameters": [],
        "returns": [
          {
            "name": "all_users",
            "type": "list",
            "description": "A list of all users in the database."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.fetch_user": {
      "identifier": "database.db.fetch_user",
      "description": {
        "overall": "The `fetch_user` function retrieves a user from the database by their username. It uses the `dbusers` collection to find the user document with the matching `_id` field. The function takes a string `username` as input and returns the corresponding user document. If no user is found, it returns `None`. The function does not modify the database or any external state.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username of the user to be retrieved."
          }
        ],
        "returns": [
          {
            "name": "user document",
            "type": "dict",
            "description": "The user document retrieved from the database, or `None` if no user is found."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is not called by any other functions."
        }
      },
      "error": null
    },
    "database.db.update_user_name": {
      "identifier": "database.db.update_user_name",
      "description": {
        "overall": "This function updates the 'name' field of a user in the database. It uses the MongoDB update_one method to modify the document with the specified username. The function takes two parameters: the current username and the new name. It returns the number of documents modified.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The current username of the user to be updated."
          },
          {
            "name": "new_name",
            "type": "str",
            "description": "The new name to be assigned to the user."
          }
        ],
        "returns": [
          {
            "name": "modified_count",
            "type": "int",
            "description": "The number of documents modified by the update operation."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.update_gemini_key": {
      "identifier": "database.db.update_gemini_key",
      "description": {
        "overall": "This function updates a user's Gemini API key in the database by encrypting the provided key and then using the `dbusers.update_one` method to update the user's document. The function takes two parameters: the username and the Gemini API key. It returns the number of documents modified.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username of the user whose Gemini API key is to be updated."
          },
          {
            "name": "gemini_api_key",
            "type": "str",
            "description": "The Gemini API key to be encrypted and updated in the database."
          }
        ],
        "returns": [
          {
            "name": "modified_count",
            "type": "int",
            "description": "The number of documents modified by the update operation."
          }
        ],
        "usage_context": {
          "calls": "This function calls `database.db.encrypt_text`.",
          "called_by": "This function is not called by any other functions."
        }
      },
      "error": null
    },
    "database.db.update_gpt_key": {
      "identifier": "database.db.update_gpt_key",
      "description": {
        "overall": "This function updates the GPT API key for a specified user in the database by encrypting the provided key and storing it securely. It uses the `encrypt_text` function to encrypt the key and the `dbusers.update_one` method to update the user's document in the database. The function returns the number of documents modified.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username of the user whose GPT API key is to be updated."
          },
          {
            "name": "gpt_api_key",
            "type": "str",
            "description": "The GPT API key to be encrypted and stored in the database."
          }
        ],
        "returns": [
          {
            "name": "modified_count",
            "type": "int",
            "description": "The number of documents modified in the database."
          }
        ],
        "usage_context": {
          "calls": "This function calls `database.db.encrypt_text`.",
          "called_by": "This function is not called by any other functions."
        }
      },
      "error": null
    },
    "database.db.update_ollama_url": {
      "identifier": "database.db.update_ollama_url",
      "description": {
        "overall": "Updates the ollama base URL for a specified username in the database. This function uses the MongoDB update_one method to modify the document. The updated URL is stripped of leading and trailing whitespace. The function returns the number of modified documents.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username of the user whose ollama base URL is to be updated."
          },
          {
            "name": "ollama_base_url",
            "type": "str",
            "description": "The new ollama base URL to be updated for the specified username."
          }
        ],
        "returns": [
          {
            "name": "modified_count",
            "type": "int",
            "description": "The number of documents modified by the update operation."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.update_opensrc_key": {
      "identifier": "database.db.update_opensrc_key",
      "description": {
        "overall": "Updates the Open Source API key for a given username in the database by encrypting the provided key and storing it securely. This function uses the `encrypt_text` function from the `database.db` module to encrypt the key before updating the database. The update is performed using the `update_one` method of the `dbusers` collection in the MongoDB database.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username for which the Open Source API key is to be updated."
          },
          {
            "name": "opensrc_api_key",
            "type": "str",
            "description": "The Open Source API key to be encrypted and stored in the database."
          }
        ],
        "returns": [
          {
            "name": "modified_count",
            "type": "int",
            "description": "The number of documents modified by the update operation."
          }
        ],
        "usage_context": {
          "calls": "This function calls `database.db.encrypt_text`.",
          "called_by": "This function is not called by any other functions in the provided context."
        }
      },
      "error": null
    },
    "database.db.update_opensrc_url": {
      "identifier": "database.db.update_opensrc_url",
      "description": {
        "overall": "This function updates the opensrc_base_url field in a user's document in the MongoDB database. It takes a username and a new opensrc_base_url as input, and returns the number of documents modified.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username of the user whose opensrc_base_url is to be updated."
          },
          {
            "name": "opensrc_base_url",
            "type": "str",
            "description": "The new opensrc_base_url to be updated in the user's document."
          }
        ],
        "returns": [
          {
            "name": "modified_count",
            "type": "int",
            "description": "The number of documents modified by the update operation."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.fetch_gemini_key": {
      "identifier": "database.db.fetch_gemini_key",
      "description": {
        "overall": "This function fetches the Gemini API key for a given username from the database. It uses the `dbusers` collection to find the user document and returns the `gemini_api_key` field. If the user is not found, it returns `None`. The function relies on the `pymongo` library to interact with the MongoDB database.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username for which to fetch the Gemini API key."
          }
        ],
        "returns": [
          {
            "name": "gemini_api_key",
            "type": "str",
            "description": "The Gemini API key for the given username, or `None` if the user is not found."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.fetch_ollama_url": {
      "identifier": "database.db.fetch_ollama_url",
      "description": {
        "overall": "The `fetch_ollama_url` function retrieves the Ollama base URL associated with a given username from a MongoDB database. It uses the `dbusers` collection to find the user document and returns the `ollama_base_url` field if the user exists. If the user does not exist, it returns `None`. This function is designed to handle username lookups and provide the corresponding Ollama URL.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username to look up in the database."
          }
        ],
        "returns": [
          {
            "name": "ollama_base_url",
            "type": "str",
            "description": "The Ollama base URL associated with the given username, or `None` if the user does not exist."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.fetch_gpt_key": {
      "identifier": "database.db.fetch_gpt_key",
      "description": {
        "overall": "The `fetch_gpt_key` function retrieves the GPT API key associated with a given username from a MongoDB database. It uses the `dbusers` collection to find the user document and returns the `gpt_api_key` field if the user exists. If the user does not exist, it returns `None`. The function takes a `username` parameter, which is a string representing the username to search for.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username to search for in the database."
          }
        ],
        "returns": [
          {
            "name": "gpt_api_key",
            "type": "str",
            "description": "The GPT API key associated with the given username, or `None` if the user does not exist."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.fetch_opensrc_key": {
      "identifier": "database.db.fetch_opensrc_key",
      "description": {
        "overall": "The `fetch_opensrc_key` function retrieves the opensrc_api_key associated with a given username from the database. It uses the `dbusers` collection to find the user document and returns the opensrc_api_key if found. If the user document is not found, it returns None. This function is designed to be used in a database-driven application where user authentication is required.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username to retrieve the opensrc_api_key for."
          }
        ],
        "returns": [
          {
            "name": "opensrc_api_key",
            "type": "str",
            "description": "The opensrc_api_key associated with the given username, or None if the user is not found."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.fetch_opensrc_url": {
      "identifier": "database.db.fetch_opensrc_url",
      "description": {
        "overall": "The `fetch_opensrc_url` function retrieves the opensrc_base_url for a given username from the database. It uses the pymongo library to query the dbusers collection. If the user is found, it returns the opensrc_base_url; otherwise, it returns None. This function appears to be part of a larger system for managing user data and authentication.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username for which to retrieve the opensrc_base_url."
          }
        ],
        "returns": [
          {
            "name": "opensrc_base_url",
            "type": "str",
            "description": "The opensrc_base_url for the specified username, or None if the user is not found."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.delete_user": {
      "identifier": "database.db.delete_user",
      "description": {
        "overall": "Deletes a user from the database by their username. The function utilizes the MongoDB driver to execute a delete operation. The operation's success is determined by the number of deleted documents.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username of the user to be deleted from the database."
          }
        ],
        "returns": [
          {
            "name": "deleted_count",
            "type": "int",
            "description": "The number of documents deleted from the database."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.get_decrypted_api_keys": {
      "identifier": "database.db.get_decrypted_api_keys",
      "description": {
        "overall": "This function retrieves decrypted API keys for a given username from the database. It first attempts to find the user in the database, and if found, decrypts the API keys using the `decrypt_text` function. If the user is not found, it returns `None` for all keys. The function returns a tuple containing the decrypted API keys and the Ollama base URL.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username to retrieve decrypted API keys for."
          }
        ],
        "returns": [
          {
            "name": "gemini_plain",
            "type": "str",
            "description": "The decrypted Gemini API key."
          },
          {
            "name": "ollama_plain",
            "type": "str",
            "description": "The Ollama base URL."
          },
          {
            "name": "gpt_plain",
            "type": "str",
            "description": "The decrypted GPT API key."
          },
          {
            "name": "opensrc_plain",
            "type": "str",
            "description": "The decrypted OpenSRC API key."
          },
          {
            "name": "opensrc_url",
            "type": "str",
            "description": "The OpenSRC base URL."
          }
        ],
        "usage_context": {
          "calls": "This function calls the `decrypt_text` function from the `database.db` module.",
          "called_by": "This function is not called by any other functions in the provided context."
        }
      },
      "error": null
    },
    "database.db.insert_chat": {
      "identifier": "database.db.insert_chat",
      "description": {
        "overall": "This function creates a new chat entry by generating a unique ID, storing the username, chat name, and creation time, and then inserting the data into the 'chats' collection in the database. The function returns the ID of the newly inserted document.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username associated with the chat entry."
          },
          {
            "name": "chat_name",
            "type": "str",
            "description": "The name of the chat."
          }
        ],
        "returns": [
          {
            "name": "inserted_id",
            "type": "str",
            "description": "The ID of the newly inserted document in the 'chats' collection."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.fetch_chats_by_user": {
      "identifier": "database.db.fetch_chats_by_user",
      "description": {
        "overall": "This function fetches all defined chats for a given user. It retrieves the chats from the database, sorted by creation date in ascending order.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username of the user for whom to fetch chats."
          }
        ],
        "returns": [
          {
            "name": "chats",
            "type": "list",
            "description": "A list of chat objects, sorted by creation date."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.check_chat_exists": {
      "identifier": "database.db.check_chat_exists",
      "description": {
        "overall": "This function checks if a chat exists in the database for a given username and chat name. It uses the `dbchats` collection to find a document matching the specified username and chat name. If a matching document is found, the function returns `True`; otherwise, it returns `False`. The function takes two parameters: `username` and `chat_name`, both of which are strings.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username to search for in the database."
          },
          {
            "name": "chat_name",
            "type": "str",
            "description": "The name of the chat to search for in the database."
          }
        ],
        "returns": [
          {
            "name": "bool",
            "type": "bool",
            "description": "True if the chat exists in the database, False otherwise."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.rename_chat_fully": {
      "identifier": "database.db.rename_chat_fully",
      "description": {
        "overall": "This function renames a chat and all its associated exchanges. It updates the chat entry and all messages in the exchanges database. The function takes three parameters: the username, the old chat name, and the new chat name. It returns the number of modified documents.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username of the chat owner."
          },
          {
            "name": "old_name",
            "type": "str",
            "description": "The current name of the chat."
          },
          {
            "name": "new_name",
            "type": "str",
            "description": "The new name of the chat."
          }
        ],
        "returns": [
          {
            "name": "modified_count",
            "type": "int",
            "description": "The number of documents modified by the update operation."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.insert_exchange": {
      "identifier": "database.db.insert_exchange",
      "description": {
        "overall": "This function inserts a new exchange into the database. It takes in various parameters such as question, answer, feedback, and username, and returns the ID of the newly inserted exchange. If an error occurs during insertion, it prints the error message and returns None.",
        "parameters": [
          {
            "name": "question",
            "type": "str",
            "description": "The question being asked."
          },
          {
            "name": "answer",
            "type": "str",
            "description": "The answer to the question."
          },
          {
            "name": "feedback",
            "type": "str",
            "description": "The feedback provided for the answer."
          },
          {
            "name": "username",
            "type": "str",
            "description": "The username of the user who provided the feedback."
          },
          {
            "name": "chat_name",
            "type": "str",
            "description": "The name of the chat where the feedback was provided."
          },
          {
            "name": "helper_used",
            "type": "str",
            "description": "The name of the helper used, if any."
          },
          {
            "name": "main_used",
            "type": "str",
            "description": "The name of the main tool used, if any."
          },
          {
            "name": "total_time",
            "type": "str",
            "description": "The total time taken, if any."
          },
          {
            "name": "helper_time",
            "type": "str",
            "description": "The time taken by the helper, if any."
          },
          {
            "name": "main_time",
            "type": "str",
            "description": "The time taken by the main tool, if any."
          },
          {
            "name": "json_tokens",
            "type": "int",
            "description": "The number of JSON tokens, if any."
          },
          {
            "name": "toon_tokens",
            "type": "int",
            "description": "The number of Toon tokens, if any."
          },
          {
            "name": "savings_percent",
            "type": "float",
            "description": "The percentage of savings, if any."
          },
          {
            "name": "json_tokens",
            "type": "int",
            "description": "The number of JSON tokens, default is 0."
          },
          {
            "name": "toon_tokens",
            "type": "int",
            "description": "The number of Toon tokens, default is 0."
          },
          {
            "name": "savings_percent",
            "type": "float",
            "description": "The percentage of savings, default is 0.0."
          }
        ],
        "returns": [
          {
            "name": "new_id",
            "type": "str",
            "description": "The ID of the newly inserted exchange."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.fetch_exchanges_by_user": {
      "identifier": "database.db.fetch_exchanges_by_user",
      "description": {
        "overall": "This function fetches exchanges by a specified username from the database. It sorts the exchanges in ascending order by their creation timestamp. The function returns a list of exchanges.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username for which exchanges are to be fetched."
          }
        ],
        "returns": [
          {
            "name": "exchanges",
            "type": "list",
            "description": "A list of exchanges sorted by creation timestamp in ascending order."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.fetch_exchanges_by_chat": {
      "identifier": "database.db.fetch_exchanges_by_chat",
      "description": {
        "overall": "This function fetches exchanges by chat from the database. It takes a username and a chat name as input, and returns a list of exchanges sorted by creation time. If the user does not have any exchanges in the specified chat, an empty list is returned.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username to filter exchanges by."
          },
          {
            "name": "chat_name",
            "type": "str",
            "description": "The name of the chat to filter exchanges by."
          }
        ],
        "returns": [
          {
            "name": "exchanges",
            "type": "list",
            "description": "A list of exchanges sorted by creation time."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.update_exchange_feedback": {
      "identifier": "database.db.update_exchange_feedback",
      "description": {
        "overall": "Updates the feedback for a specified exchange in the database. This function uses the MongoDB update_one method to modify the document with the matching exchange_id. The feedback is updated to the value provided. The function returns the number of documents modified.",
        "parameters": [
          {
            "name": "exchange_id",
            "type": "int",
            "description": "The ID of the exchange to update in the database."
          },
          {
            "name": "feedback",
            "type": "int",
            "description": "The new feedback value to update in the database."
          }
        ],
        "returns": [
          {
            "name": "modified_count",
            "type": "int",
            "description": "The number of documents modified in the database."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.update_exchange_feedback_message": {
      "identifier": "database.db.update_exchange_feedback_message",
      "description": {
        "overall": "Updates the feedback message for a specified exchange in the database. This function uses the MongoDB update_one method to modify the exchange document. The update operation sets the feedback_message field to the provided feedback_message string. The function returns the number of documents modified.",
        "parameters": [
          {
            "name": "exchange_id",
            "type": "int",
            "description": "The ID of the exchange to update."
          },
          {
            "name": "feedback_message",
            "type": "str",
            "description": "The new feedback message to set for the exchange."
          }
        ],
        "returns": [
          {
            "name": "modified_count",
            "type": "int",
            "description": "The number of documents modified by the update operation."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.delete_exchange_by_id": {
      "identifier": "database.db.delete_exchange_by_id",
      "description": {
        "overall": "This function deletes a document from the exchanges collection in the database based on the provided exchange ID. It uses the pymongo library to interact with the MongoDB database. The function takes an exchange ID as input, queries the database for the document with the matching ID, and returns the number of documents deleted.",
        "parameters": [
          {
            "name": "exchange_id",
            "type": "str",
            "description": "The ID of the exchange to be deleted from the database."
          }
        ],
        "returns": [
          {
            "name": "deleted_count",
            "type": "int",
            "description": "The number of documents deleted from the database."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "database.db.delete_full_chat": {
      "identifier": "database.db.delete_full_chat",
      "description": {
        "overall": "This function deletes a full chat, including all associated exchanges, to maintain consistency between the frontend and backend. It takes two parameters: the username and the chat name. The function first deletes all messages in the chat and then removes the chat from the chat list. The function returns the number of documents deleted.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username of the chat owner."
          },
          {
            "name": "chat_name",
            "type": "str",
            "description": "The name of the chat to be deleted."
          }
        ],
        "returns": [
          {
            "name": "deleted_count",
            "type": "int",
            "description": "The number of documents deleted."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "frontend.frontend.clean_names": {
      "identifier": "frontend.frontend.clean_names",
      "description": {
        "overall": "The clean_names function takes a list of model names as input, splits each name at the '/' character, and returns a new list containing the last part of each split name.",
        "parameters": [
          {
            "name": "model_list",
            "type": "list",
            "description": "A list of model names"
          }
        ],
        "returns": [
          {
            "name": "cleaned_model_list",
            "type": "list",
            "description": "A list of cleaned model names"
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "frontend.frontend.get_filtered_models": {
      "identifier": "frontend.frontend.get_filtered_models",
      "description": {
        "overall": "This function filters a list of models based on a selected category. If the category is 'STANDARD', it returns only models that are also in the STANDARD_MODELS list. Otherwise, it returns all models that contain any of the keywords associated with the category.",
        "parameters": [
          {
            "name": "source_list",
            "type": "list",
            "description": "The list of models to be filtered."
          },
          {
            "name": "category_name",
            "type": "str",
            "description": "The name of the category to filter by."
          }
        ],
        "returns": [
          {
            "name": "filtered_models",
            "type": "list",
            "description": "The filtered list of models."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "frontend.frontend.save_gemini_cb": {
      "identifier": "frontend.frontend.save_gemini_cb",
      "description": {
        "overall": "This function saves the Gemini key to the database. It retrieves the new key from the session state, updates the Gemini key in the database, and then clears the session state and displays a toast message.",
        "parameters": [],
        "returns": [],
        "usage_context": {
          "calls": "This function calls database.db.update_gemini_key.",
          "called_by": "This function is not called by any other functions."
        }
      },
      "error": null
    },
    "frontend.frontend.save_ollama_cb": {
      "identifier": "frontend.frontend.save_ollama_cb",
      "description": {
        "overall": "This function saves the Ollama URL to the database. If a new URL is provided, it updates the existing URL for the current user. The function also displays a toast notification upon successful update.",
        "parameters": [],
        "returns": [],
        "usage_context": {
          "calls": "This function calls database.db.update_ollama_url.",
          "called_by": "This function is not called by any other functions."
        }
      },
      "error": null
    },
    "frontend.frontend.load_data_from_db": {
      "identifier": "frontend.frontend.load_data_from_db",
      "description": {
        "overall": "Loads data from the database for a given user, including chats and exchanges. If the user has not been loaded before, it initializes the chats dictionary and fetches the defined chats and exchanges from the database. If no chats or exchanges exist, it creates a default chat and inserts it into the database.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username of the user for whom to load data."
          }
        ],
        "returns": [],
        "usage_context": {
          "calls": "This function calls database.db.fetch_chats_by_user, database.db.fetch_exchanges_by_user, and database.db.insert_chat.",
          "called_by": "This function is not called by any other functions."
        }
      },
      "error": null
    },
    "frontend.frontend.handle_feedback_change": {
      "identifier": "frontend.frontend.handle_feedback_change",
      "description": {
        "overall": "This function updates the feedback value for an exchange and triggers a rerun of the application. It takes an exchange object and a new feedback value as input, updates the exchange in the database, and then reruns the application. The function appears to be part of a larger system that handles user feedback.",
        "parameters": [
          {
            "name": "ex",
            "type": "dict",
            "description": "The exchange object, which contains the ID of the exchange to be updated."
          },
          {
            "name": "val",
            "type": "any",
            "description": "The new feedback value to be assigned to the exchange."
          }
        ],
        "returns": [],
        "usage_context": {
          "calls": "This function calls database.db.update_exchange_feedback.",
          "called_by": "This function is not called by any other functions in the provided context."
        }
      },
      "error": null
    },
    "frontend.frontend.handle_delete_exchange": {
      "identifier": "frontend.frontend.handle_delete_exchange",
      "description": {
        "overall": "This function handles the deletion of an exchange in a chat by removing it from the database and updating the chat's exchanges list. It also triggers a rerun of the Streamlit app to reflect the changes.",
        "parameters": [
          {
            "name": "chat_name",
            "type": "str",
            "description": "The name of the chat where the exchange is to be deleted."
          },
          {
            "name": "ex",
            "type": "dict",
            "description": "A dictionary containing the exchange to be deleted, including its ID."
          }
        ],
        "returns": [],
        "usage_context": {
          "calls": "This function calls database.db.delete_exchange_by_id.",
          "called_by": "This function is called by no other functions."
        }
      },
      "error": null
    },
    "frontend.frontend.handle_delete_chat": {
      "identifier": "frontend.frontend.handle_delete_chat",
      "description": {
        "overall": "The `handle_delete_chat` function is responsible for deleting a chat from the database and updating the application's state accordingly. It first calls the `delete_full_chat` function from the database module to remove the chat from the database. Then, it removes the chat from the application's state and updates the active chat if necessary. If all chats are deleted, it creates a new empty chat and sets it as the active chat.",
        "parameters": [
          {
            "name": "username",
            "type": "str",
            "description": "The username of the user deleting the chat"
          },
          {
            "name": "chat_name",
            "type": "str",
            "description": "The name of the chat to be deleted"
          }
        ],
        "returns": [],
        "usage_context": {
          "calls": "This function calls database.db.delete_full_chat and database.db.insert_chat.",
          "called_by": "This function is called by no other functions."
        }
      },
      "error": null
    },
    "frontend.frontend.extract_repo_name": {
      "identifier": "frontend.frontend.extract_repo_name",
      "description": {
        "overall": "This function extracts the repository name from a given text, typically a URL. It uses regular expressions to find the URL, parses it, and then extracts the repository name from the path. If the repository name ends with '.git', it is removed. If no URL is found, the function returns None.",
        "parameters": [
          {
            "name": "text",
            "type": "str",
            "description": "The input text that may contain a URL."
          }
        ],
        "returns": [
          {
            "name": "repo_name",
            "type": "str",
            "description": "The extracted repository name, or None if no URL is found."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "frontend.frontend.stream_text_generator": {
      "identifier": "frontend.frontend.stream_text_generator",
      "description": {
        "overall": "The stream_text_generator function is a generator that splits input text into individual words and yields them with a trailing space, introducing a 10ms delay between each word. It appears to be designed for a text streaming application, possibly for a user interface.",
        "parameters": [
          {
            "name": "text",
            "type": "str",
            "description": "The input text to be split into words."
          }
        ],
        "returns": [
          {
            "name": "word",
            "type": "str",
            "description": "A single word from the input text, followed by a space."
          }
        ],
        "usage_context": {
          "calls": "This function calls no other functions.",
          "called_by": "This function is used by no other functions."
        }
      },
      "error": null
    },
    "frontend.frontend.render_text_with_mermaid": {
      "identifier": "frontend.frontend.render_text_with_mermaid",
      "description": {
        "overall": "This function renders Markdown text with Mermaid diagrams. It splits the input text into parts, processing even-indexed parts as Markdown and odd-indexed parts as Mermaid code. If a part is not empty, it is either written to a stream or rendered as Markdown, depending on the `should_stream` parameter. If the part is Mermaid code, it is rendered using `st_mermaid`. If rendering fails, the code is displayed as plain text.",
        "parameters": [
          {
            "name": "markdown_text",
            "type": "str",
            "description": "The Markdown text to be rendered, potentially containing Mermaid diagrams."
          },
          {
            "name": "should_stream",
            "type": "bool",
            "description": "A flag indicating whether to write the rendered text to a stream or render it as Markdown."
          }
        ],
        "returns": [],
        "usage_context": {
          "calls": "This function calls `frontend.frontend.stream_text_generator`.",
          "called_by": "This function is not called by any other functions."
        }
      },
      "error": null
    },
    "frontend.frontend.render_exchange": {
      "identifier": "frontend.frontend.render_exchange",
      "description": {
        "overall": "The `render_exchange` function is responsible for rendering an exchange in the frontend. It takes an exchange object `ex` and a current chat name `current_chat_name` as input. The function displays the question, answer, and feedback buttons for the exchange. It also provides a comment popover and a download button. If the answer contains an error message, it displays an error message and provides a delete button.",
        "parameters": [
          {
            "name": "ex",
            "type": "object",
            "description": "The exchange object containing the question, answer, and feedback information."
          },
          {
            "name": "current_chat_name",
            "type": "string",
            "description": "The name of the current chat."
          }
        ],
        "returns": [],
        "usage_context": {
          "calls": "This function calls database.db.update_exchange_feedback_message, frontend.frontend.handle_delete_exchange, frontend.frontend.handle_feedback_change, and frontend.frontend.render_text_with_mermaid.",
          "called_by": "This function is called by no other functions."
        }
      },
      "error": null
    }
  },
  "classes": {}
}